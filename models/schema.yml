version: 2
models:
  - name: dim_listings_cleansed
    description: Cleansed table which contains Airbnb listings
    columns:
      - name: listing_id
        description: Primary key for the listing
        tests:
          - unique
          - not_null
      - name: host_id
        description: The hosts's id. References the host table
        tests:
          - not_null
          - relationships:
              to: ref('dim_hosts_cleansed')
              field: host_id
      - name: room_type
        description: Type of the apartment / room
        tests:
          - accepted_values:
              values:
                - Entire home/apt
                - Private room
                - Shared room
                - Hotel room
      - name: minimum_nights
        description: '{{ doc("dim_listing_cleansed__minimum_nights") }}'
        tests:
          - positive_value
  - name: dim_hosts_cleansed
    description: Cleansed table which contains Airbnb hosts
    columns:
      - name: host_id
        description: Primary key for the host
        tests:
          - unique
          - not_null
      - name: host_name
        description: Name of the host
        tests:
          - not_null
      - name: is_superhost
        description: It says if a host has an overall positive reviews and answer fast
        tests:
          - accepted_values:
              values:
                - t
                - f
  - name: fct_reviews
    description: The 'fct_reviews' model is used to transform and load the reviews
      data from the raw_reviews table in the airbnb database. It generates a
      unique review_id for each review by combining the listing_id, review_date,
      reviewer_name, and review_text columns. The model filters out any reviews
      with null values in the review_text column. The transformed data includes
      the review_id, listing_id, review_date, reviewer_name, review_text, and
      review_sentiment. This model is designed to provide a consolidated view of
      the reviews data, allowing for analysis and insights into the sentiment
      and content of the reviews for each listing.
    columns:
      - name: REVIEW_ID
        description: The REVIEW_ID column represents a unique identifier for each
          review. It is generated by applying the MD5 hash function to a
          combination of the listing_id, review_date, reviewer_name, and
          review_text columns. This identifier is useful for tracking and
          referencing individual reviews in analytical scenarios, such as
          identifying duplicate reviews or linking reviews to other datasets.
          Data analysts can use this column to perform various analyses, such as
          sentiment analysis, trend analysis, or identifying patterns in
          reviewer behavior.
      - name: LISTING_ID
        description: ""
      - name: REVIEW_DATE
        description: ""
      - name: REVIEWER_NAME
        description: ""
      - name: REVIEW_TEXT
        description: ""
      - name: REVIEW_SENTIMENT
        description: The REVIEW_SENTIMENT column represents the sentiment of a review.
          It is a categorical variable that indicates whether the review is
          positive, negative, or neutral. This column is useful for sentiment
          analysis and understanding the overall sentiment of reviews for a
          particular listing. Data analysts can use this column to analyze
          trends in sentiment over time, compare sentiment across different
          listings, or identify patterns in sentiment based on reviewer
          demographics. This information can be valuable for making data-driven
          decisions related to customer satisfaction, marketing strategies, and
          product improvements.
